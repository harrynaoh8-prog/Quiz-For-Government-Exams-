const quiz = [
  {q:"Capital of India?", o:["Mumbai","Delhi","Chennai","Kolkata"], a:1},
  {q:"2 + 3 Ã— 2 = ?", o:["10","8","7","12"], a:2},
  {q:"Father of Indian Constitution?", o:["Gandhi","Nehru","Ambedkar","Patel"], a:2},
  {q:"1,4,9,?", o:["14","15","16","18"], a:2},
  {q:"Odd one out?", o:["Bus","Car","Train","Apple"], a:3}
];

let index = 0;
let score = 0;
let time = 10;
let timer;

function loadQuestion(){
  time = 10;
  document.getElementById("timer").innerText = time;
  document.getElementById("progress").innerText =
    `Q${index+1}/${quiz.length}`;

  let q = quiz[index];
  document.getElementById("question").innerText = q.q;

  q.o.forEach((opt,i)=>{
    let btn = document.getElementById("b"+i);
    btn.innerText = opt;
    btn.className="";
    btn.disabled = false;
  });

  startTimer();
}

function startTimer(){
  clearInterval(timer);
  timer = setInterval(()=>{
    time--;
    document.getElementById("timer").innerText = time;
    if(time === 0){
      clearInterval(timer);
      autoNext();
    }
  },1000);
}

function selectAnswer(i){
  clearInterval(timer);

  let correct = quiz[index].a;
  document.getElementById("b"+correct).classList.add("correct");

  if(i === correct) score++;
  else document.getElementById("b"+i).classList.add("wrong");

  disableButtons();
  setTimeout(nextQuestion,1000);
}

function autoNext(){
  disableButtons();
  document.getElementById("b"+quiz[index].a).classList.add("correct");
  setTimeout(nextQuestion,1000);
}

function disableButtons(){
  for(let i=0;i<4;i++){
    document.getElementById("b"+i).disabled = true;
  }
}

function nextQuestion(){
  index++;
  if(index < quiz.length){
    loadQuestion();
  } else {
    document.querySelector(".quiz-app").innerHTML =
      `<h2>Quiz Finished ðŸŽ‰</h2>
       <p>Score: ${score}/${quiz.length}</p>
       <button onclick="location.reload()">Play Again</button>`;
  }
}

loadQuestion();


